if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_lockedOrientation']=undefined;this['_device']=undefined;this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['DEVICE_ORIENTATION_PORTRAIT']='portrait';TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE']='landscape';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}this['player']['delete']();this['player']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var s=function(v){if(v['name']=='begin'){var w=v['data']['source']['get']('camera');if(w&&w['get']('initialSequence')&&w['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(v['sourceClassName']=='MediaAudio')return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',s,u,!![]);u['unbindOnObjectsOf']('PanoramaPlayListItem','begin',s,u,!![]);u['unbind']('stateChange',s,u,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_currentScriptUrl']=this['_getScriptUrl']();var t=this['_getOrientation']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bind']('preloadMediaShow',s,this,!![]);u['bind']('stateChange',s,this,!![]);u['bindOnObjectsOf']('PanoramaPlayListItem','begin',s,this,!![]);u['bindOnObject']('rootPlayer','start',function(x){var y=x['data']['source'];var z=window['navigator']['language']||window['navigator']['userLanguage']||'en';var A=y['get']('data')['locales']||{};var B=y['get']('data')['defaultLocale']||z;var C=this['locManager']=new TDV['Tour']['LocaleManager'](y,A,B,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));y['get']('data')['localeManager']=C;var D=function(){var J=y['get']('data');if(!('updateText'in J)){J['updateText']=function(N){var O=N[0x0]['split']('.');if(O['length']==0x2){var P=C['trans']['apply'](C,N);var Q=N[0x1]||y;if(typeof Q=='string'){var R=Q['split']('.');Q=y[R['shift']()];for(var S=0x0;S<R['length']-0x1;++S){if(Q!=undefined)Q='get'in Q?Q['get'](R[S]):Q[R[S]];}if(Q!=undefined){var T=R[R['length']-0x1];if(Array['isArray'](Q)){for(var U=0x0;U<Q['length'];++U){this['setValue'](Q[U],T,P);}}else this['setValue'](Q,T,P);}}else{Q=Q[O[0x0]];this['setValue'](Q,O[0x1],P);}}}['bind'](y);}var K=J['translateObjs'];var L=J['updateText'];var M=function(){for(var V in K){L(K[V]);}};M();M();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],D['bind'](this));var E=this['_getParams'](location['search']['substr'](0x1));var F=E['language'];if(!F||!this['locManager']['hasLocale'](E['language']))F=z;this['setLocale'](F);this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![])||this['_setMediaFromURL'](E,!![]);if(this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']&&typeof this['_devicesUrl'][TDV['Tour']['DEVICE_MOBILE']]=='object'){var G=function(){if(!y['isCardboardViewMode']()&&this['_getOrientation']()!=t){this['reload']();}};var H=y['getByClassName']('PanoramaPlayer');for(var I=0x0;I<H['length'];++I){H[I]['bind']('viewModeChange',G,this);}y['bind']('orientationChange',G,this);}this['_onHashChange']=function(){this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![]);}['bind'](this);this['_onKeyUp']=function(W){if(W['key']=='u'){this['updateDeepLink']();this['copyToClipboard'](location['href']);}}['bind'](this);window['addEventListener']('hashchange',this['_onHashChange']);document['addEventListener']('keyup',this['_onKeyUp']);y['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));},this,![]);window['addEventListener']('message',function(X){var Y=X['data'];if(Y=='pauseTour')Y='pause';else if(Y=='resumeTour')Y='resume';else return;this[Y]['apply'](this);}['bind'](this));};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var Z=player['getByClassName']('PlayList');for(var a0=0x0,a1=Z['length'];a0<a1;a0++){var a2=Z[a0];var a3=a2['get']('selectedIndex');if(a3!=-0x1){var a4=a2['get']('items')[a3];var a5=a4['get']('player');if(a5&&a5['pause']){this['_playersPlayingTmp']['push'](a5);a5['pause']();}}}this['player']['getById']('pauseGlobalAudios')();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var a6=this['playersPlayingTmp']['pop']();a6['play']();}this['player']['getById']('resumeGlobalAudios')();};TDV['Tour']['prototype']['reload']=function(){this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(a7){var a8=this['_getRootPlayer']();if(a8!==undefined){return a8['setMainMediaByIndex'](a7);}};TDV['Tour']['prototype']['setMediaByName']=function(a9){var aa=this['_getRootPlayer']();if(aa!==undefined){return aa['setMainMediaByName'](a9);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(ab,ac,ad,ae){var af=this['_getRootPlayer']();if(af!==undefined){var ag=function(){var ak=af['getPanoramaOverlayByName'](ab['get']('media'),ac);if(ak){if(ae){var al=ak['get']('items')[0x0];var am=al['get']('yaw');var an=al['get']('pitch');var ao=af['getPlayListWithItem'](ab);if(am&&an&&ao){var ap=function(){af['setPanoramaCameraWithSpot'](ao,ab,am,an);};if(!this['_isInitialized']){var aq=function(){ab['unbind']('begin',aq,this);ap();};ab['bind']('begin',aq,this);}else{ap();}}}if(ad){af['triggerOverlay'](ak,ad);}}}['bind'](this);var ah=ab['get']('player');if(ah){var ai=af['getMediaFromPlayer'](ah);if(ai==ab['get']('media')){ag();return;}}var aj=function(){ab['unbind']('begin',arguments['callee'],this);ag();};ab['bind']('begin',aj,af);}};TDV['Tour']['prototype']['updateDeepLink']=function(){var ar=this['_getRootPlayer']();if(ar!==undefined){ar['updateDeepLink']();}};TDV['Tour']['prototype']['setLocale']=function(as){var at=this['_getRootPlayer']();if(at!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](as);}};TDV['Tour']['prototype']['isMobile']=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i['test'](navigator['userAgent']||navigator['vendor']||window['opera']);};TDV['Tour']['prototype']['copyToClipboard']=function(au){if(navigator['clipboard']){navigator['clipboard']['writeText'](au);}else{var av=document['createElement']('textarea');av['value']=au;av['style']['position']='fixed';document['body']['appendChild'](av);av['focus']();av['select']();try{document['execCommand']('copy');}catch(aw){}document['body']['removeChild'](av);}};TDV['Tour']['prototype']['_getOrientation']=function(){var ax=this['_getRootPlayer']();if(ax){return ax['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return window['innerWidth']>window['innerHeight']?TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE']:TDV['Tour']['DEVICE_ORIENTATION_PORTRAIT'];}};TDV['Tour']['prototype']['_getParams']=function(ay){var az={};ay['split']('&')['forEach'](function(aA){var aB=aA['split']('=')[0x0],aC=decodeURIComponent(aA['split']('=')[0x1]);az[aB['toLowerCase']()]=aC;});return az;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_getScriptUrl']=function(){this['_device']=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']){this['_device']=TDV['Tour']['DEVICE_MOBILE'];}var aD=this['_devicesUrl'][this['_device']];if(typeof aD=='object'){var aE=this['_getOrientation']();if(aE in aD){aD=aD[aE];}}return aD;};TDV['Tour']['prototype']['_setMediaFromURL']=function(aF,aG){var aH=undefined;if('media'in aF){var aI=aF['media'];var aJ=Number(aI);aH=isNaN(aJ)?this['setMediaByName'](aI):this['setMediaByIndex'](aJ-0x1);}else if('media-index'in aF){aH=this['setMediaByIndex'](parseInt(aF['media-index'])-0x1);}else if('media-name'in aF){aH=this['setMediaByName'](aF['media-name']);}if(aH==undefined&&aG){aH=this['setMediaByIndex'](0x0);}if(aH!=undefined){if('trigger-overlay-name'in aF){this['triggerOverlayByName'](aH,aF['trigger-overlay-name'],'trigger-overlay-event'in aF?aF['trigger-overlay-event']:'click',![]);}if('focus-overlay-name'in aF){this['triggerOverlayByName'](aH,aF['focus-overlay-name'],undefined,!![]);}else if('yaw'in aF&&'pitch'in aF){var aK=parseInt(aF['yaw']);var aL=parseInt(aF['pitch']);var aM=this['_getRootPlayer']();var aN=aM['getPlayListWithItem'](aH);if(!isNaN(aK)&&!isNaN(aL)&&aN)aM['setPanoramaCameraWithSpot'](aN,aH,aK,aL);}}return aH!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var aO=function(){var aP=undefined;var aQ=function(){var aT=this['_getRootPlayer']();aP=aT['get']('lockedOrientation');aT['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var aR=function(){aQ();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aR);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aR);this['reload']();}else{aQ();}var aS=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',aP);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],aS);var aU=this['_getScriptUrl']();if(this['_currentScriptUrl']!=aU)this['reload']();}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],aS);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],aO);}};TDV['Tour']['LocaleManager']=function(aV,aW,aX,aY){TDV['EventDispatcher']['call'](this);this['rootPlayer']=aV;this['locales']={};this['defaultLocale']=aX;this['queryParam']=aY;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var aZ in aW){this['registerLocale'](aZ,aW[aZ]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(b0,b1){var b2=[b0,b0['split']('-')[0x0]];for(var b3=0x0;b3<b2['length'];++b3){b0=b2[b3];if(!(b0 in this['locales'])){this['locales'][b0]=b1;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(b4){delete this['locales'][b4];if(b4==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(b5){return b5 in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(b6){var b7=undefined;var b8=b6['split']('-')[0x0];var b9=[b6,b8];for(var ba=0x0;ba<b9['length'];++ba){var bc=b9[ba];if(bc in this['locales']){b7=bc;break;}}if(b7===undefined){for(var bc in this['locales']){if(bc['indexOf'](b8)==0x0){b7=bc;break;}}}if(b7===undefined){b7=this['defaultLocale'];}var bd=this['locales'][b7];if(bd!==undefined&&this['currentLocaleID']!=b7){this['currentLocaleID']=b7;var be=this;if(typeof bd=='string'){var bf=new XMLHttpRequest();bf['onreadystatechange']=function(){if(bf['readyState']==0x4){if(bf['status']==0xc8){be['locales'][b7]=be['currentLocaleMap']=be['_parsePropertiesContent'](bf['responseText']);be['dispatchEvent'](be['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw bd+'\x20can\x27t\x20be\x20loaded';}}};var bg=bd;if(this['queryParam'])bg+=(bg['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];bf['open']('GET',bg);bf['send']();}else{this['currentLocaleMap']=bd;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(bh){var bi=this['currentLocaleMap'][bh];if(arguments['length']>0x2){var bj=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var bk=arguments;function bl(bm){return/^\d+$/['test'](bm);}bi=bi['replace'](/\{\{([\w\.]+)\}\}/g,function(bn,bo){if(bl(bo))bo=bk[parseInt(bo)+0x1];else if(bj!==undefined)bo=bj[bo];if(typeof bo=='string')bo=this['currentLocaleMap'][bo]||bo;else if(typeof bo=='function')bo=bo['call'](this['rootPlayer']);return bo!==undefined?bo:'';}['bind'](this));}return bi;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(bp){bp=bp['replace'](/(^|\n)#[^\n]*/g,'');var bq={};var br=bp['split']('\x0a');for(var bs=0x0,bt=br['length'];bs<bt;++bs){var bu=br[bs]['trim']();if(bu['length']==0x0){continue;}var bv=bu['indexOf']('=');if(bv==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+bs);continue;}var bw=bu['substr'](0x0,bv)['trim']();var bx=bu['substr'](bv+0x1)['trim']();var by;while((by=bx['lastIndexOf']('\x5c'))!=-0x1&&by==bx['length']-0x1&&++bs<bt){bx=bx['substr'](0x0,bx['length']-0x2);bu=br[bs]['trim']();if(bu['length']==0x0)break;bx+='\x0a'+bu;}bq[bw]=bx;}return bq;};TDV['Tour']['HistoryData']=function(bz){this['playList']=bz;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(bA){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==bA){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],bA);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(bB,bC){for(var bD in bB){var bE=bB[bD];if(typeof bE=='object'&&bE!==null)this['assignObjRecursively'](bB[bD],bC[bD]||(bC[bD]={}));else bC[bD]=bE;}return bC;};TDV['Tour']['Script']['autotriggerAtStart']=function(bF,bG,bH){var bI=function(bJ){bG();if(bH==!![])bF['unbind']('change',bI,this);};bF['bind']('change',bI,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(bK,bL,bM){var bN=function(bU){bO['unbind']('stop',bN,this);if(bM==bQ['get']('backgroundColor')&&bT==bQ['get']('backgroundColorRatios')){bQ['set']('backgroundColor',bR);bQ['set']('backgroundColorRatios',bS);}};var bO=bK['get']('items')[bL];var bP=bO['get']('player');var bQ=bP['get']('viewerArea');var bR=bQ['get']('backgroundColor');var bS=bQ['get']('backgroundColorRatios');var bT=[0x0];if(bM!=bR||bT!=bS){bQ['set']('backgroundColor',bM);bQ['set']('backgroundColorRatios',bT);bO['bind']('stop',bN,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(bV,bW){var bX=bV['get']('selectedIndex');if(bX>=0x0&&bW>=0x0&&bX!=bW){var bY=bV['get']('items')[bX];var bZ=bV['get']('items')[bW];var c0=bY['get']('player');var c1=bZ['get']('player');if((c0['get']('class')=='PanoramaPlayer'||c0['get']('class')=='Video360Player')&&(c1['get']('class')=='PanoramaPlayer'||c1['get']('class')=='Video360Player')){var c2=this['cloneCamera'](bZ['get']('camera'));this['setCameraSameSpotAsMedia'](c2,bY['get']('media'));this['startPanoramaWithCamera'](bZ['get']('media'),c2);}}};TDV['Tour']['Script']['cloneCamera']=function(c3){var c4=this['rootPlayer']['createInstance'](c3['get']('class'));c4['set']('id',c3['get']('id')+'_copy');c4['set']('initialSequence',c3['get']('initialSequence'));c4['set']('idleSequence',c3['get']('idleSequence'));return c4;};TDV['Tour']['Script']['copyObjRecursively']=function(c5){var c6={};for(var c7 in c5){var c8=c5[c7];if(typeof c8=='object'&&c8!==null)c6[c7]=this['copyObjRecursively'](c5[c7]);else c6[c7]=c8;}return c6;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(c9,ca,cb,cc){var cd=undefined;var ce=function(ch){if(ch['data']['previousSelectedIndex']==ca){if(cc)cc['call'](this);if(cb&&cd)cd['unbind']('end',cb,this);c9['unbind']('change',ce,this);}};if(cb){var cf=c9['get']('items')[ca];if(cf['get']('class')=='PanoramaPlayListItem'){var cg=cf['get']('camera');if(cg!=undefined)cd=cg['get']('initialSequence');if(cd==undefined)cd=cg['get']('idleSequence');}else{cd=cf['get']('media');}if(cd){cd['bind']('end',cb,this);}}c9['bind']('change',ce,this);};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(ci){var cj=ci['get']('buttonPlayPause');if(typeof cj!=='undefined'&&ci['get']('state')=='playing'){if(!Array['isArray'](cj))cj=[cj];for(var ck=0x0;ck<cj['length'];++ck)cj[ck]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(cl){var cm=this['getActivePlayerWithViewer'](cl);if(cm==undefined){return undefined;}return this['getMediaFromPlayer'](cm);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(cn){var co=this['getCurrentPlayers']();var cp=co['length'];while(cp-->0x0){var cq=co[cp];if(cq['get']('viewerArea')==cn){var cr=cq['get']('class');if(cr=='PanoramaPlayer'&&(cq['get']('panorama')!=undefined||cq['get']('video')!=undefined))return cq;else if((cr=='VideoPlayer'||cr=='Video360Player')&&cq['get']('video')!=undefined)return cq;else if(cr=='PhotoAlbumPlayer'&&cq['get']('photoAlbum')!=undefined)return cq;else if(cr=='MapPlayer'&&cq['get']('map')!=undefined)return cq;}}return undefined;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(cs){var ct=undefined;var cu=undefined;switch(cs['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':ct='PanoramaPlayer';cu='panorama';break;case'Video360':ct='PanoramaPlayer';cu='video';break;case'PhotoAlbum':ct='PhotoAlbumPlayer';cu='photoAlbum';break;case'Map':ct='MapPlayer';cu='map';break;case'Video':ct='VideoPlayer';cu='video';break;};if(ct!=undefined){var cv=this['getByClassName'](ct);for(var cw=0x0;cw<cv['length'];++cw){var cx=cv[cw];if(cx['get'](cu)==cs){return cx;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var cy=this['getByClassName']('PanoramaPlayer');cy=cy['concat'](this['getByClassName']('VideoPlayer'));cy=cy['concat'](this['getByClassName']('Video360Player'));cy=cy['concat'](this['getByClassName']('PhotoAlbumPlayer'));cy=cy['concat'](this['getByClassName']('MapPlayer'));return cy;};TDV['Tour']['Script']['getGlobalAudio']=function(cz){var cA=window['currentGlobalAudios'];if(cA!=undefined&&cz['get']('id')in cA){cz=cA[cz['get']('id')]['audio'];}return cz;};TDV['Tour']['Script']['getMediaByName']=function(cB){var cC=this['getByClassName']('Media');for(var cD=0x0,cE=cC['length'];cD<cE;++cD){var cF=cC[cD];var cG=cF['get']('data');if(cG&&cG['label']==cB){return cF;}}return undefined;};TDV['Tour']['Script']['getComponentByName']=function(cH){var cI=this['getByClassName']('UIComponent');for(var cJ=0x0,cK=cI['length'];cJ<cK;++cJ){var cL=cI[cJ];var cM=cL['get']('data');if(cM!=undefined&&cM['name']==cH){return cL;}}return undefined;};TDV['Tour']['Script']['getMediaFromPlayer']=function(cN){switch(cN['get']('class')){case'PanoramaPlayer':return cN['get']('panorama')||cN['get']('video');case'VideoPlayer':case'Video360Player':return cN['get']('video');case'PhotoAlbumPlayer':return cN['get']('photoAlbum');case'MapPlayer':return cN['get']('map');}};TDV['Tour']['Script']['getMediaWidth']=function(cO){switch(cO['get']('class')){case'Video360':var cP=cO['get']('video');if(cP instanceof Array){var cQ=0x0;for(var cR=0x0;cR<cP['length'];cR++){var cS=cP[cR];if(cS['get']('width')>cQ)cQ=cS['get']('width');}return cQ;}else{return cS['get']('width');}default:return cO['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(cT){switch(cT['get']('class')){case'Video360':var cU=cT['get']('video');if(cU instanceof Array){var cV=0x0;for(var cW=0x0;cW<cU['length'];cW++){var cX=cU[cW];if(cX['get']('height')>cV)cV=cX['get']('height');}return cV;}else{return cX['get']('height');}default:return cT['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(cY){switch(cY['get']('class')){case'Panorama':var cZ=cY['get']('overlays')['concat']()||[];var d0=cY['get']('frames');for(var d1=0x0;d1<d0['length'];++d1){cZ=cZ['concat'](d0[d1]['get']('overlays')||[]);}return cZ;case'Video360':case'Map':return cY['get']('overlays')||[];default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(d2,d3){var d4=this['getOverlays'](d2);for(var d5=0x0,d6=d4['length'];d5<d6;++d5){var d7=d4[d5];var d8=d7['get']('data');if(d8!=undefined&&d8['label']==d3){return d7;}}return undefined;};TDV['Tour']['Script']['getPixels']=function(d9){var da=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](d9);if(da==undefined){return 0x0;}var db=parseFloat(da[0x1]);var dc=da[0x4];var dd=this['rootPlayer']['get']('actualWidth')/0x64;var de=this['rootPlayer']['get']('actualHeight')/0x64;switch(dc){case'vw':return db*dd;case'vh':return db*de;case'vmin':return db*Math['min'](dd,de);case'vmax':return db*Math['max'](dd,de);default:return db;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(df,dg){var dh=[];var di=this['getByClassName']('PlayList');for(var dj=0x0,dk=di['length'];dj<dk;++dj){var dl=di[dj];if(dg&&dl['get']('selectedIndex')==-0x1)continue;if(this['getPlayListItemByMedia'](dl,df)!=undefined)dh['push'](dl);}return dh;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(dm){var dn=this['getByClassName']('PlayList');var dp=function(dr){var ds=dr['get']('items');for(var dt=ds['length']-0x1;dt>=0x0;--dt){var du=ds[dt];var dv=du['get']('player');if(dv!==undefined&&dv['get']('viewerArea')==dm)return!![];}return![];};for(var dq=dn['length']-0x1;dq>=0x0;--dq){if(!dp(dn[dq]))dn['splice'](dq,0x1);}return dn;};TDV['Tour']['Script']['getPlayListWithItem']=function(dw){var dx=this['getByClassName']('PlayList');for(var dy=dx['length']-0x1;dy>=0x0;--dy){var dz=dx[dy];var dA=dz['get']('items');for(var dB=dA['length']-0x1;dB>=0x0;--dB){var dC=dA[dB];if(dC==dw)return dz;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(dD,dE){var dF=this['getPlayListsWithMedia'](dD,dE);return dF['length']>0x0?dF[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(dG,dH){var dI=dG['get']('items');for(var dJ=0x0,dK=dI['length'];dJ<dK;++dJ){var dL=dI[dJ];if(dL['get']('media')==dH)return dL;}return undefined;};TDV['Tour']['Script']['getPlayListItems']=function(dM,dN){var dO=function(){switch(dM['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Video360':return'Video360PlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Map':return'MapPlayListItem';case'Video':return'VideoPlayListItem';}}();if(dO!=undefined){var dP=this['getByClassName'](dO);for(var dQ=dP['length']-0x1;dQ>=0x0;--dQ){var dR=dP[dQ];if(dR['get']('media')!=dM||dN!=undefined&&dR['get']('player')!=dN){dP['splice'](dQ,0x1);}}return dP;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(dS){var dT=this['get']('data')['history'][dS['get']('id')];if(dT!=undefined){dT['back']();}};TDV['Tour']['Script']['historyGoForward']=function(dU){var dV=this['get']('data')['history'][dU['get']('id')];if(dV!=undefined){dV['forward']();}};TDV['Tour']['Script']['init']=function(){var dW=this['get']('data')['history'];var dX=function(e2){var e3=e2['source'];var e4=e3['get']('selectedIndex');if(e4<0x0)return;var e5=e3['get']('id');if(!dW['hasOwnProperty'](e5))dW[e5]=new TDV['Tour']['HistoryData'](e3);dW[e5]['add'](e4);};var dY=this['getByClassName']('PlayList');for(var dZ=0x0,e0=dY['length'];dZ<e0;++dZ){var e1=dY[dZ];e1['bind']('change',dX,this);}};TDV['Tour']['Script']['initGA']=function(){var e6=function(ew,ex,ey){ga('send','event',ew,ex,ey);};var e8=this['getByClassName']('Panorama');e8=e8['concat'](this['getByClassName']('Video360'));e8=e8['concat'](this['getByClassName']('Map'));for(var eb=0x0,ee=e8['length'];eb<ee;++eb){var ef=e8[eb];var eh=ef['get']('data');var ei=eh?eh['label']:undefined;var ej=this['getOverlays'](ef);for(var ek=0x0,el=ej['length'];ek<el;++ek){var em=ej[ek];var en=em['get']('data')!=undefined?ei+'\x20-\x20'+em['get']('data')['label']:ei;switch(em['get']('class')){case'HotspotPanoramaOverlay':case'HotspotMapOverlay':var eo=em['get']('areas');for(var ep=0x0;ep<eo['length'];++ep){eo[ep]['bind']('click',e6['bind'](this,'Hotspot','click',en),this);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':em['bind']('click',e6['bind'](this,'Cap','click',en),this);break;}}}var eq=this['getByClassName']('Button');eq=eq['concat'](this['getByClassName']('IconButton'));for(var eb=0x0,ee=eq['length'];eb<ee;++eb){var er=eq[eb];var es=er['get']('data')['name'];er['bind']('click',e6['bind'](this,'Skin','click',es),this);}var et=this['getByClassName']('PlayListItem');var eu={};for(var eb=0x0,ee=et['length'];eb<ee;++eb){var ev=et[eb];var e8=ev['get']('media');if(!(e8['get']('id')in eu)){var eh=e8['get']('data');ev['bind']('begin',e6['bind'](this,'Media','play',eh?eh['label']:undefined),this);eu[e8['get']('id')]=ev;}}};TDV['Tour']['Script']['initQuiz']=function(ez,eA){var eB={'question':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.2},'window':{'width':'60%','height':'60%','backgroundColor':'#ffffff','backgroundOpacity':0.9,'borderRadius':0x5,'horizontalAlign':'center','minWidth':0x1f4,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'shadowBlurRadius':0x4,'shadow':!![],'shadowColor':'#000000','shadowOpacity':0.3,'shadowHorizontalLength':0x0,'shadowVerticalLength':0x0,'shadowSpread':0x4,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'600','paddingLeft':0x32,'paddingRight':0x32,'paddingBottom':0x28,'paddingTop':0x19,'textAlign':'center'},'buttonsContainer':{'horizontalAlign':'right','verticalAlign':'bottom','button':{'backgroundColor':'#000000','backgroundOpacity':0.7,'borderRadius':0x3,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xa,'paddingBottom':0xa,'verticalAlign':'middle'}},'bodyContainer':{'width':'100%','height':'100%','gap':0x23,'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e,'paddingBottom':0x1e},'mediaContainer':{'width':'70%','height':'100%','buttonNext':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=','width':0x19,'height':0x25},'buttonPrevious':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC','width':0x19,'height':0x25},'viewerArea':{'playbackBarBackgroundColor':'#000000','playbackBarBackgroundOpacity':0.5,'playbackBarBorderRadius':0x0,'playbackBarBorderSize':0x0,'playbackBarBottom':0x5,'playbackBarHeight':0x6,'playbackBarLeft':0x0,'playbackBarRight':0x0,'playbackBarProgressBackgroundColor':'#3399ff','playbackBarProgressOpacity':0.5,'playbackBarHeadBackgroundColor':'#cccccc','playbackBarHeadBorderColor':'#ffffff','playbackBarHeadBorderRadius':0x7,'playbackBarHeadBorderSize':0x3,'playbackBarHeadOpacity':0x1,'playbackBarHeadWidth':0xe,'playbackBarHeadHeight':0xe,'playbackBarHeadShadow':!![],'playbackBarHeadShadowBlurRadius':0x2,'playbackBarHeadShadowColor':'#000000','playbackBarHeadShadowHorizontalLength':0x0,'playbackBarHeadShadowOpacity':0.3,'playbackBarHeadShadowSpread':0x2,'playbackBarHeadShadowVerticalLength':0x0,'backgroundColor':'#e6e6e6','backgroundOpacity':0x1}},'optionsContainer':{'gap':0xa,'width':'30%','height':'100%','overflow':'scroll','contentOpaque':!![]},'option':{'gap':0xa,'text':{'fontColor':'#404040','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left','verticalAlign':'middle','selected':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left'}},'label':{'borderRadius':0x13,'backgroundColor':'#000000','backgroundOpacity':0.2,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26,'correct':{'borderRadius':0x13,'backgroundColor':'#39b54a','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26},'incorrect':{'borderRadius':0x13,'backgroundColor':'#ed1c24','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26}}},'closeButton':{'backgroundColor':'#009FE3','height':0x2d,'iconColor':'#FFFFFF','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d}}},'score':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','minWidth':0x1f4,'maxWidth':0x5dc,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'content':{'width':'100%','horizontalAlign':'center'},'closeButton':{'backgroundColor':'#009fe3','height':0x2d,'iconColor':'#ffffff','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x32,'fontWeight':'800','paddingBottom':0xf,'paddingTop':0x32,'textAlign':'center'},'description':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x10,'fontWeight':'400','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'textAlign':'center'},'statsContainer':{'gap':0x14,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'verticalAlign':'middle','overflow':'scroll','contentOpaque':!![]},'stats':{'borderColor':'#009fe3','borderSize':0x1,'borderRadius':0x4b,'gap':0x0,'height':0x96,'horizontalAlign':'center','layout':'vertical','verticalAlign':'middle','minWidth':0x96,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'400','paddingTop':0xa,'paddingLeft':0x5,'paddingRight':0x5},'mainValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'700'},'secondaryValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'700'},'label':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0xf,'fontWeight':'400'}},'calification':{'fontColor':'#009fe3','fontFamily':'Arial','fontSize':0x1e,'fontWeight':'700','textAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xa,'paddingTop':0xf,'verticalAlign':'middle','width':'100%'},'timeContainer':{'gap':0x5,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xa,'verticalAlign':'middle','width':'100%'},'buttonsContainer':{'gap':0x8,'paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0x32,'paddingTop':0x23,'horizontalAlign':'center','verticalAlign':'middle','width':'100%','button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'}}}},'timeout':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','gap':0xf,'paddingBottom':0x37,'paddingLeft':0x50,'paddingRight':0x50,'paddingTop':0x2d,'icon':{'height':0x48,'url':'data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAUAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAgICAgICAgICAgMCAgIDBAMCAgMEBQQEBAQEBQYFBQUFBQUGBgcHCAcHBgkJCgoJCQwMDAwMDAwMDAwMDAwMDAEDAwMFBAUJBgYJDQsJCw0PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgASAA+AwERAAIRAQMRAf/EAHQAAAICAwEBAAAAAAAAAAAAAAUGAAQCAwcBCQEBAAAAAAAAAAAAAAAAAAAAABAAAQMDAgMHAwMBCQAAAAAAAQIDBAARBSExQRITUWFxkbEiBoGhFFJiIzLB0UJygqJDYyQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APv5QSglBydzJZHqOf8AvkD3HQOqA37AaAjhZ85zJxG3Jjzja1EKQtxSgfaeBNB0eglBKANl8w1jGwkAOylj+NnsH6ld1BliMqjKMrVydN9mweQNtb2IPfagkzOY6EShb3VdTu017j9TsPOgQspNiTHELiQxFCebnItdZPEgCgu4fKwcekfkQuo8FEplJCSoAi1he3rQO8PKQZ+kd8Fe5aV7VeR3+lAMzGeGOdTHZbDz+inea4SlJ2GnE0FtOaiLxzmRTdSWQOqyP6kqJACT4k70CtmMLkPzJEhtKpTTpU51Li6Rvym54DagAMy5Mdt1pl5TSHwA6lJte1AQx+Em5ABxCQywf+degP8AlG5oGRr4lEAHWlPLVxKAlI+4VQYP/EmSD+NLWlXAOgKHmLelArTMfNxjiesko1u0+gnlJHYrTWg0uOyp8hBcUqRIc5W0Xtc8AKAyxgskmHNWptSFrSltuMCLrPUSSTrawtQHfk88x4yIjSrOSr9Qjg2N/M0ADAYkT3i++LxY5F0/rVvy+HbQPU5yRHhuKgsB15AAaatpa4GgFthwoKj7M/IYxpIc/AmL5VOBJI23FxqL70Hs5zJRIcZMNsTZCeRD61AkmwsVWuNzQEHWW5TBZkthSXUjqNnWx7j3dtBzDJwHMZMU1clH9cd3YlPD6igcUZhxeAdnJsZLIDTncskJ5v8AcDQLPyN0u5V8HZlKG0+HKCfuTQO+GYEbGRE2sVoDiz3r92vhe1B5jse5DclurmKlJlK5kg8N+8660HuQy8THKQh7nW64LpabAKrdupAoFub8pdc/jx7Jb5tA64AVa9iRcetBcw+PmtyBkslIUhxwFCGVq9yub9V9u4UGz5VHDkJqRb3sOWv+1eh+4FArQ3iMXmI99FJZcA7CHUg+ooJnkFGWmA8VJUP9SQaB9jtonYdhrnKUPxkIKk7j2gH70GzGx2IcYQ2ZAfMckOG4JCiSbEDbwoBmShz28i1lMe0iQtLfTWys2tuLi5Hb20GWHxKo6nps1pH5r6ytKRYhsHU2toCSeFBZyUGFknWGHpPTfYJWllC0hZSbX9pueG9BW+TrCMWtJ3dcQlP0PN/ZQJURJMLLK4BlsE95eRb0oDvyuIUvMTUj2OJ6Th7FDUeY9KC38XyCVsqx7irONErY70nUj6HWgJmNDwjc7IoS64XLKcRcHdWydBxPGguNZGM5BbnuK/HYcF/5NCNbW86DVkMozAitS+QyG3lJCCg6WUL3v4CgyRAiuy2sryrTIU2OUE2Aum2o7bG1An/JsgmTJTFaVzNRb86hsVnfy2oNkeEtr41PfKTzyihYH/WhabH1NA6zIrU2O7GeF0OC1+IPAjwoOYSosvEywlRLbrZ5mXk7KHAigbcf8ljPoDOQAZdtYu2u2rx7PSgPOtQslH6JKH45sQG1aC21ik0HqnYMFlDTjrbDTSQlCFqGw20OpoFTK/JeolUfHXSFaLkkWNv2jh4mgD4fEuZJ8FQKYrZ/nc7f2jvNB0zpt9Po8g6XLydO2nLa1reFBnQVZkKNOaLMlsLT/hVspJ7QeFAlTPi0tolUNYkt8EKISseeh86AKvFZJB5TAfJ/a2pQ8wDQZtYjJunlTBeB7VpKB5qtQMEH4qolLk90BO/QbNye4q/uoHJplphtLTKA22gWShOgFBsoP//Z','width':0x3e},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'800','textAlign':'center','paddingBottom':0x14},'button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'},'buttonsContainer':{'horizontalAlign':'center','width':'100%','gap':0xa}}}};ez['theme']='theme'in ez?this['mixObject'](eB,ez['theme']):eB;if(ez['player']['get']('isMobile')){var eC=this['mixObject'](ez['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}}});ez['theme']=eC;}var eD=this['get']('data');var eE=document['getElementById']('metaViewport');var eF=eE?/initial-scale=(\d+(\.\d+)?)/['exec'](eE['getAttribute']('content')):undefined;var eG=eF?eF[0x1]:0x1;eD['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/eG,'maxHeight':0x258/eG,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'}}}};var eH=new TDV['Quiz'](ez);eH['setMaxListeners'](0x32);eH['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((eH['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+eH['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(eH['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+eH['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)eH['finish']();}['bind'](this));if(eA===!![])eH['start']();eD['quiz']=eH;};TDV['Tour']['Script']['isCardboardViewMode']=function(){var eI=this['getByClassName']('PanoramaPlayer');return eI['length']>0x0&&eI[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['keepCompVisible']=function(eJ,eK){var eL='keepVisibility_'+eJ['get']('id');var eM=this['getKey'](eL);if(eM==undefined&&eK){this['registerKey'](eL,eK);}else if(eM!=undefined&&!eK){this['unregisterKey'](eL);}};TDV['Tour']['Script']['_initItemWithComps']=function(eN,eO,eP,eQ,eR,eS,eT,eU){var eV=eN['get']('items')[eO];var eW=eV['get']('media');var eX=eW['get']('loop')==undefined||eW['get']('loop');var eY=eU>0x0;var eZ=this['rootPlayer'];var f0=function(f8){var f9=eS?eS['get']('class'):undefined;var fa=undefined;switch(f9){case'FadeInEffect':case'FadeOutEffect':fa=eZ['createInstance'](f8?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':fa=eZ['createInstance'](f8?'SlideInEffect':'SlideOutEffect');break;}if(fa){fa['set']('duration',eS['get']('duration'));fa['set']('easing',eS['get']('easing'));if(f9['indexOf']('Slide')!=-0x1)fa['set'](f8?'from':'to',eS['get'](eS['get']('class')=='SlideInEffect'?'from':'to'));}return fa;};var f1=function(){for(var fb=0x0,fc=eP['length'];fb<fc;++fb){var fd=eP[fb];if(eU>0x0){this['setComponentVisibility'](fd,!eR,0x0,f0(!eR));}else{var fe='visibility_'+fd['get']('id');if(this['existsKey'](fe)){if(this['getKey'](fe))this['setComponentVisibility'](fd,!![],0x0,f0(!![]));else this['setComponentVisibility'](fd,![],0x0,f0(![]));this['unregisterKey'](fe);}}}eV['unbind']('end',f1,this);if(!eX)eW['unbind']('end',f1,this);};var f2=function(){eV['unbind']('stop',f2,this,!![]);eV['unbind']('stop',f2,this);eV['unbind']('begin',f2,this,!![]);eV['unbind']('begin',f2,this);for(var ff=0x0,fg=eP['length'];ff<fg;++ff){this['keepCompVisible'](eP[ff],![]);}};var f3=function(fh,fi,fj){var fk=function(){var fl=function(fp,fq,fr){eZ['setComponentVisibility'](fp,fq,fi,fr,fq?'showEffect':'hideEffect',![]);if(fj>0x0){var fs=fi+fj+(fr!=undefined?fr['get']('duration'):0x0);eZ['setComponentVisibility'](fp,!fq,fs,f0(!fq),fq?'hideEffect':'showEffect',!![]);}};for(var fm=0x0,fn=eP['length'];fm<fn;++fm){var fo=eP[fm];if(eR=='toggle'){if(!fo['get']('visible'))fl(fo,!![],f0(!![]));else fl(fo,![],f0(![]));}else{fl(fo,eR,f0(eR));}}eV['unbind'](fh,fk,this);if(fh=='end'&&!eX)eW['unbind'](fh,fk,this);};eV['bind'](fh,fk,this);if(fh=='end'&&!eX)eW['bind'](fh,fk,this);};if(eQ=='begin'){for(var f4=0x0,f5=eP['length'];f4<f5;++f4){var f6=eP[f4];this['keepCompVisible'](f6,!![]);if(eY){var f7='visibility_'+f6['get']('id');this['registerKey'](f7,f6['get']('visible'));}}eV['bind']('stop',f2,this,!![]);eV['bind']('stop',f2,this);eV['bind']('begin',f2,this,!![]);eV['bind']('begin',f2,this);if(eY){eV['bind']('end',f1,this);if(!eX)eW['bind']('end',f1,this);}}else if(eQ=='end'&&eU>0x0){f3('begin',eU,0x0);eU=0x0;}if(eQ!=undefined)f3(eQ,eT,eU);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(ft,fu){var fv=ft['get']('selectedIndex');var fw=ft['get']('items')['length'];var fx=(fv+fu)%fw;while(fx<0x0){fx=fw+fx;}if(fv!=fx){ft['set']('selectedIndex',fx);}};TDV['Tour']['Script']['mixObject']=function(fy,fz){return this['assignObjRecursively'](fz,this['copyObjRecursively'](fy));};TDV['Tour']['Script']['openLink']=function(fA,fB){if(!fA||fA==location['href']){return;}var fC=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(fB=='_blank'&&fC){if(fA['startsWith']('/')){var fD=window['location']['href']['split']('/');fD['pop']();fA=fD['join']('/')+fA;}var fE=fA['split']('.')['pop']()['toLowerCase']();if(fE!='pdf'||fA['startsWith']('file://')){var fF=window['require']('electron')['shell'];fF['openExternal'](fA);}else{window['open'](fA,fB);}}else if(fC&&(fB=='_top'||fB=='_self')){window['location']=fA;}else{var fG=window['open'](fA,fB);fG['focus']();}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(fH){var fI=this['getCurrentPlayers']();var fJ=fI['length'];while(fJ-->0x0){var fK=fI[fJ];if(fK['get']('state')=='playing'||fK['get']('viewerArea')&&fK['get']('viewerArea')['get']('id')==this['MainViewer']){var fL=this['getMediaFromPlayer'](fK);if(fH&&fL['get']('class')!='Video360'&&'pauseCamera'in fK){fK['pauseCamera']();}else{fK['pause']();}}else{fI['splice'](fJ,0x1);}}return fI;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(fM,fN,fO){var fP=this;var fQ=fM['get']('items')[fN];var fR=fQ['get']('media');var fS=fQ['get']('player');var fT=fR['get']('id');var fU=function(){if(fM['get']('selectedIndex')!=fN){if(fX){fS['unbind']('stateChange',fV,fP);}fP['resumeGlobalAudios'](fT);}};var fV=function(fY){var fZ=fY['data']['state'];if(fZ=='stopped'){this['resumeGlobalAudios'](fT);}else if(fZ=='playing'){this['pauseGlobalAudios'](fT,fO);}};var fW=fR['get']('class');var fX=fW=='Video360'||fW=='Video';if(fX){fS['bind']('stateChange',fV,this);}this['pauseGlobalAudios'](fT,fO);this['executeFunctionWhenChange'](fM,fN,fU,fU);};TDV['Tour']['Script']['pauseGlobalAudios']=function(g0,g1){if(window['pauseGlobalAudiosState']==undefined)window['pauseGlobalAudiosState']={};if(window['pauseGlobalAudiosList']==undefined)window['pauseGlobalAudiosList']=[];if(g0 in window['pauseGlobalAudiosState']){return;}var g2=this['getByClassName']('Audio')['concat'](this['getByClassName']('VideoPanoramaOverlay'));if(window['currentGlobalAudios']!=undefined)g2=g2['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(ge){return ge['audio'];}));var g3=[];var g4=Object['values'](window['pauseGlobalAudiosState']);for(var g6=0x0,g8=g4['length'];g6<g8;++g6){var g9=g4[g6];for(var ga=0x0;ga<g9['length'];++ga){var gc=g9[ga];if(g3['indexOf'](gc)==-0x1)g3['push'](gc);}}window['pauseGlobalAudiosState'][g0]=g3;var gd=window['currentGlobalAudios']||{};for(var g6=0x0,g8=g2['length'];g6<g8;++g6){var gc=g2[g6];if(gc['get']('state')=='playing'&&(g1==undefined||g1['indexOf'](gc)==-0x1)){if(gc['get']('id')in gd&&!gd[gc['get']('id')]['asBackground']){this['stopGlobalAudio'](gc);}else{gc['pause']();g3['push'](gc);}}}};TDV['Tour']['Script']['pauseGlobalAudio']=function(gf){var gg=window['currentGlobalAudios'];if(gg){var gh=gg[gf['get']('id')];if(gh)gf=gh['audio'];}if(gf['get']('state')=='playing')gf['pause']();};TDV['Tour']['Script']['playAudioList']=function(gi,gj){if(gi['length']==0x0)return;var gk=-0x1;var gl;var gm=this['playGlobalAudio'];var gn=function(){if(++gk>=gi['length']){if(!gj)return;gk=0x0;}gl=gi[gk];gm(gl,gn,!![]);};gn();};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(go,gp,gq,gr,gs){var gt=function(gF){if(gF['data']['previousSelectedIndex']==gp){this['stopGlobalAudio'](gq);if(gx){var gG=gw['get']('media');var gH=gG['get']('audios');gH['splice'](gH['indexOf'](gq),0x1);gG['set']('audios',gH);}go['unbind']('change',gt,this);if(gr)gr();}};var gv=window['currentGlobalAudios'];if(gv&&gq['get']('id')in gv){gq=gv[gq['get']('id')]['audio'];if(gq['get']('state')!='playing'){gq['play']();}return gq;}go['bind']('change',gt,this);var gw=go['get']('items')[gp];var gx=gw['get']('class')=='PanoramaPlayListItem';if(gx){var gy=gw['get']('media');var gv=(gy['get']('audios')||[])['slice']();if(gq['get']('class')=='MediaAudio'){var gz=this['rootPlayer']['createInstance']('PanoramaAudio');gz['set']('autoplay',![]);gz['set']('audio',gq['get']('audio'));gz['set']('loop',gq['get']('loop'));gz['set']('id',gq['get']('id'));var gA=gq['getBindings']('stateChange');for(var gB=0x0;gB<gA['length'];++gB){var gC=gA[gB];if(typeof gC=='string')gC=new Function('event',gC);gz['bind']('stateChange',gC,this);}gq=gz;}gv['push'](gq);gy['set']('audios',gv);}var gD=this['playGlobalAudio'](gq,gr);if(gs===!![]){var gE=function(){if(gD['get']('state')=='playing'){this['pauseGlobalAudios'](gD['get']('id'),[gD]);}else{this['resumeGlobalAudios'](gD['get']('id'));gD['unbind']('stateChange',gE,this);}};gD['bind']('stateChange',gE,this);}return gD;};TDV['Tour']['Script']['playGlobalAudio']=function(gI,gJ,gK){var gL=function(){gI['unbind']('end',gL,this);this['stopGlobalAudio'](gI);if(gJ)gJ['call'](this);};gI=this['getGlobalAudio'](gI);var gM=window['currentGlobalAudios'];if(!gM){gM=window['currentGlobalAudios']={};}gM[gI['get']('id')]={'audio':gI,'asBackground':gK||![]};if(gI['get']('state')=='playing'){return gI;}if(!gI['get']('loop')){gI['bind']('end',gL,this);}gI['play']();return gI;};TDV['Tour']['Script']['resumeGlobalAudios']=function(gN){if(window['pauseGlobalAudiosState']==undefined||!(gN in window['pauseGlobalAudiosState']))return;var gO=window['pauseGlobalAudiosState'][gN];delete window['pauseGlobalAudiosState'][gN];var gP=Object['values'](window['pauseGlobalAudiosState']);for(var gR=0x0,gT=gP['length'];gR<gT;++gR){var gU=gP[gR];for(var gV=gO['length']-0x1;gV>=0x0;--gV){var gX=gO[gV];if(gU['indexOf'](gX)!=-0x1)gO['splice'](gV,0x1);}}for(var gR=0x0,gT=gO['length'];gR<gT;++gR){var gX=gO[gR];if(gX['get']('state')=='paused')gX['play']();}};TDV['Tour']['Script']['resumePlayers']=function(gY,gZ){for(var h0=0x0;h0<gY['length'];++h0){var h1=gY[h0];var h2=this['getMediaFromPlayer'](h1);if(!h2)continue;if(gZ&&h2['get']('class')!='Video360'&&'pauseCamera'in h1){h1['resumeCamera']();}else{h1['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(h3){var h4=window['currentGlobalAudios'];var h5=this;if(h4){Object['keys'](h4)['forEach'](function(h6){var h7=h4[h6];if(!h3||h3&&!h7['asBackground']){h5['stopGlobalAudio'](h7['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(h8){var h9=window['currentGlobalAudios'];if(h9){var ha=h9[h8['get']('id')];if(ha){h8=ha['audio'];delete h9[h8['get']('id')];if(Object['keys'](h9)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(h8)h8['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(hb,hc){var hd=this['getCurrentPlayerWithMedia'](hc);if(hd!=undefined){var he=hb['get']('initialPosition');he['set']('yaw',hd['get']('yaw'));he['set']('pitch',hd['get']('pitch'));he['set']('hfov',hd['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(hf,hg,hh,hi,hj,hk){var hl=this['getKey']('keepVisibility_'+hf['get']('id'));if(hl)return;this['unregisterKey']('visibility_'+hf['get']('id'));var hm=function(){if(hi&&hj){hf['set'](hj,hi);}hf['set']('visible',hg);if(hf['get']('class')=='ViewerArea'){try{if(hg)hf['restart']();else if(hf['get']('playbackState')=='playing')hf['pause']();}catch(hr){};}};var hn='effectTimeout_'+hf['get']('id');if(!hk&&window['hasOwnProperty'](hn)){var hp=window[hn];if(hp instanceof Array){for(var hq=0x0;hq<hp['length'];hq++){clearTimeout(hp[hq]);}}else{clearTimeout(hp);}delete window[hn];}else if(hg==hf['get']('visible')&&!hk)return;if(hh&&hh>0x0){var hp=setTimeout(function(){if(window[hn]instanceof Array){var hs=window[hn];var ht=hs['indexOf'](hp);hs['splice'](ht,0x1);if(hs['length']==0x0){delete window[hn];}}else{delete window[hn];}hm();},hh);if(window['hasOwnProperty'](hn)){window[hn]=[window[hn],hp];}else{window[hn]=hp;}}else{hm();}};TDV['Tour']['Script']['setLocale']=function(hu){this['get']('data')['localeManager']['setLocale'](hu);};TDV['Tour']['Script']['setEndToItemIndex']=function(hv,hw,hx){var hy=function(){if(hv['get']('selectedIndex')==hw)hv['set']('selectedIndex',hx);};this['executeFunctionWhenChange'](hv,hw,hy);};TDV['Tour']['Script']['setMapLocation']=function(hz,hA){var hB=function(){hz['unbind']('stop',hB,this);hC['set']('mapPlayer',null);};hz['bind']('stop',hB,this);var hC=hz['get']('player');hC['set']('mapPlayer',hA);};TDV['Tour']['Script']['setMainMediaByIndex']=function(hD){var hE=undefined;if(hD>=0x0&&hD<this['mainPlayList']['get']('items')['length']){this['mainPlayList']['set']('selectedIndex',hD);hE=this['mainPlayList']['get']('items')[hD];}return hE;};TDV['Tour']['Script']['setMainMediaByName']=function(hF){var hG=this['_getPlayListsWithViewer'](this['MainViewer']);for(var hH=0x0,hI=hG['length'];hH<hI;++hH){var hJ=hG[hH];var hK=hJ['get']('items');for(var hL=0x0,hM=hK['length'];hL<hM;++hL){var hN=hK[hL];var hO=hN['get']('media')['get']('data');if(hO!==undefined&&hO['label']==hF&&hN['get']('player')['get']('viewerArea')==this['MainViewer']){hJ['set']('selectedIndex',hL);return hN;}}}};TDV['Tour']['Script']['setMediaBehaviour']=function(hP,hQ,hR){var hS=this;var hT=function(ih){if(ih['data']['state']=='stopped'){hX['call'](this,!![]);}};var hU=function(){i3['unbind']('begin',hU,hS);var ii=i3['get']('media');if(ii['get']('class')!='Panorama'||ii['get']('camera')!=undefined&&ii['get']('camera')['get']('initialSequence')!=undefined){i4['bind']('stateChange',hT,hS);}};var hV=function(){var ij=i0['get']('selectedIndex');if(ij!=-0x1){i2=ij;hX['call'](this,![]);}};var hW=function(){hX['call'](this,![]);};var hX=function(ik){if(!i0)return;var il=i3['get']('media');if((il['get']('class')=='Video360'||il['get']('class')=='Video')&&il['get']('loop')==!![]&&!ik)return;hP['set']('selectedIndex',-0x1);if(ib&&ia!=-0x1){if(ib){if(ia>0x0&&ib['get']('movements')[ia-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var im=ic['get']('initialPosition');var io=im['get']('yaw');var ip=im['get']('pitch');var iq=im['get']('hfov');var ir=ib['get']('movements')[ia-0x1];im['set']('yaw',ir['get']('targetYaw'));im['set']('pitch',ir['get']('targetPitch'));im['set']('hfov',ir['get']('targetHfov'));var is=function(iv){im['set']('yaw',io);im['set']('pitch',ip);im['set']('hfov',iq);i6['unbind']('end',is,this);};i6['bind']('end',is,this);}ib['set']('movementIndex',ia);}}if(i4){i3['unbind']('begin',hU,this);i4['unbind']('stateChange',hT,this);for(var it=0x0;it<id['length'];++it){id[it]['unbind']('click',hW,this);}}if(i9){var iu=this['getMediaFromPlayer'](i4);if(iu==undefined||iu==i3['get']('media')){i0['set']('selectedIndex',i2);}if(hP!=i0)i0['unbind']('change',hV,this);}else{i7['set']('visible',i8);}i0=undefined;};if(!hR){var hY=hP['get']('selectedIndex');var hZ=hY!=-0x1?hP['get']('items')[hP['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['MainViewer']);if(hZ){hR=this['getMediaFromPlayer'](hZ);}}var i0=undefined;if(hR){var i1=this['getPlayListsWithMedia'](hR,!![]);i0=i1['indexOf'](hP)!=-0x1?hP:i1['length']>0x0?i1[0x0]:undefined;}if(!i0){hP['set']('selectedIndex',hQ);return;}var i2=i0['get']('selectedIndex');var i3=hP['get']('items')[hQ];var i4=i3['get']('player');var i5=this['getMediaFromPlayer'](i4);if(hP['get']('selectedIndex')==hQ&&i5==i3['get']('media')||i2==-0x1){return;}if(hP['get']('selectedIndex')==hQ&&i5!=i3['get']('media'))hP['set']('selectedIndex',-0x1);var i6=i0['get']('items')[i2];var i7=i4['get']('viewerArea');var i8=i7['get']('visible');var i9=i7==i6['get']('player')['get']('viewerArea');if(i9){if(hP!=i0){i0['set']('selectedIndex',-0x1);i0['bind']('change',hV,this);}}else{i7['set']('visible',!![]);}var ia=-0x1;var ib=undefined;var ic=i6['get']('camera');if(ic){ib=ic['get']('initialSequence');if(ib){ia=ib['get']('movementIndex');}}hP['set']('selectedIndex',hQ);var id=[];var ie=function(iw){var ix=i4['get'](iw);if(ix==undefined)return;if(Array['isArray'](ix))id=id['concat'](ix);else id['push'](ix);};ie('buttonStop');for(var ig=0x0;ig<id['length'];++ig){id[ig]['bind']('click',hW,this);}i3['bind']('begin',hU,hS);this['executeFunctionWhenChange'](hP,hQ,hW);};TDV['Tour']['Script']['setOverlayBehaviour']=function(iy,iz,iA,iB){var iC=function(){switch(iA){case'triggerClick':this['triggerOverlay'](iy,'click');break;case'stop':case'play':case'pause':iy[iA]();break;case'togglePlayPause':case'togglePlayStop':if(iy['get']('state')=='playing')iy[iA=='togglePlayPause'?'pause':'stop']();else iy['play']();break;}if(iB){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var iG=iy['get']('id');window['overlaysDispatched'][iG]=!![];setTimeout(function(){delete window['overlaysDispatched'][iG];},0x3e8);}};if(iB&&window['overlaysDispatched']!=undefined&&iy['get']('id')in window['overlaysDispatched'])return;var iD=this['getFirstPlayListWithMedia'](iz,!![]);if(iD!=undefined){var iE=this['getPlayListItemByMedia'](iD,iz);if(iD['get']('items')['indexOf'](iE)!=iD['get']('selectedIndex')){var iF=function(iH){iE['unbind']('begin',iF,this);iC['call'](this);};iE['bind']('begin',iF,this);return;}}iC['call'](this);};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(iI){var iJ=this['getActiveMediaWithViewer'](this['MainViewer']);if(iJ!=undefined&&(iJ['get']('class')['indexOf']('Panorama')!=-0x1||iJ['get']('class')=='Video360')){var iK=iI['get']('media');var iL=this['cloneCamera'](iI['get']('camera'));this['setCameraSameSpotAsMedia'](iL,iJ);this['startPanoramaWithCamera'](iK,iL);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(iM,iN,iO,iP){var iQ=iM['get']('selectedIndex');var iR=iM['get']('items');if(iR[iQ]==iN){var iS=iN['get']('player');iS['moveTo'](iO,iP,iS['get']('roll'),iS['get']('hfov'));}else{var iT=iN['get']('media');var iU=this['cloneCamera'](iN['get']('camera'));var iV=iU['get']('initialPosition');iV['set']('yaw',iO);iV['set']('pitch',iP);this['startPanoramaWithCamera'](iT,iU);}};TDV['Tour']['Script']['setValue']=function(iW,iX,iY){if('set'in iW)iW['set'](iX,iY);else iW[iX]=iY;};TDV['Tour']['Script']['setStartTimeVideo']=function(iZ,j0){var j1=this['getPlayListItems'](iZ);var j2=[];var j3=function(){for(var j7=0x0;j7<j1['length'];++j7){var j8=j1[j7];j8['set']('startTime',j2[j7]);j8['unbind']('stop',j3,this);}};for(var j4=0x0;j4<j1['length'];++j4){var j5=j1[j4];var j6=j5['get']('player');if(j6['get']('video')==iZ&&j6['get']('state')=='playing'){j6['seek'](j0);}else{j2['push'](j5['get']('startTime'));j5['set']('startTime',j0);j5['bind']('stop',j3,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(j9,ja){this['setStartTimeVideo'](j9,ja['get']('currentTime'));};TDV['Tour']['Script']['shareSocial']=function(jb,jc,jd,je){if(jd){this['updateDeepLink']();}if(jc==undefined){jc=jd?location['href']:location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}else if(jd){jc+=location['hash'];}jc=function(jg){switch(jg){case'fb':return'https://www.facebook.com/sharer/sharer.php?u='+jc;case'li':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(jc);case'pt':return'https://pinterest.com/pin/create/button/?url='+jc;case'tw':return'https://twitter.com/intent/tweet?source=webclient&url='+jc;case'wa':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(jc);default:return undefined;}}(jb);if(je){for(var jf in je){jc+='&'+jf+'='+je[jf];}}this['openLink'](jc,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(jh,ji,jj){var jk=function(jo){for(var jp=0x0,jq=ji['length'];jp<jq;jp++){var jr=ji[jp];if(jr['get']('class')=='HTMLText'&&(jr['get']('html')==''||jr['get']('html')==undefined)){continue;}jr['set']('visible',jo);}};if(this['rootPlayer']['get']('touchDevice')==!![]){jk(!![]);}else{var jl=-0x1;var jm=function(){jk(!![]);if(jl>=0x0)clearTimeout(jl);jh['unbind']('rollOver',jm,this);jh['bind']('rollOut',jn,this);};var jn=function(){var js=function(){jk(![]);jh['unbind']('rollOver',jm,this);};jh['unbind']('rollOut',jn,this);jh['bind']('rollOver',jm,this);jl=setTimeout(js,jj);};jh['bind']('rollOver',jm,this);}};TDV['Tour']['Script']['showPopupMedia']=function(jt,ju,jv,jw,jx,jy,jz){var jA=this;var jB=function(){jv['set']('selectedIndex',-0x1);jA['MainViewer']['set']('toolTipEnabled',!![]);if(jz){jA['resumeGlobalAudios']();}this['resumePlayers'](jG,!jz);if(jF){this['unbind']('resize',jD,this);}jt['unbind']('close',jB,this);};var jC=function(){jt['hide']();};var jD=function(){var jH=function(jY){return jt['get'](jY)||0x0;};var jI=jA['get']('actualWidth');var jJ=jA['get']('actualHeight');var jK=jA['getMediaWidth'](ju);var jL=jA['getMediaHeight'](ju);var jM=parseFloat(jw)/0x64;var jN=parseFloat(jx)/0x64;var jO=jM*jI;var jP=jN*jJ;var jQ=jH('footerHeight');var jR=jH('headerHeight');if(!jR){var jS=jH('closeButtonIconHeight')+jH('closeButtonPaddingTop')+jH('closeButtonPaddingBottom');var jT=jA['getPixels'](jH('titleFontSize'))+jH('titlePaddingTop')+jH('titlePaddingBottom');jR=jS>jT?jS:jT;jR+=jH('headerPaddingTop')+jH('headerPaddingBottom');}var jU=jO-jH('bodyPaddingLeft')-jH('bodyPaddingRight')-jH('paddingLeft')-jH('paddingRight');var jV=jP-jR-jQ-jH('bodyPaddingTop')-jH('bodyPaddingBottom')-jH('paddingTop')-jH('paddingBottom');var jW=jU/jV;var jX=jK/jL;if(jW>jX){jO=jV*jX+jH('bodyPaddingLeft')+jH('bodyPaddingRight')+jH('paddingLeft')+jH('paddingRight');}else{jP=jU/jX+jR+jQ+jH('bodyPaddingTop')+jH('bodyPaddingBottom')+jH('paddingTop')+jH('paddingBottom');}if(jO>jI*jM){jO=jI*jM;}if(jP>jJ*jN){jP=jJ*jN;}jt['set']('width',jO);jt['set']('height',jP);jt['set']('x',(jI-jH('actualWidth'))*0.5);jt['set']('y',(jJ-jH('actualHeight'))*0.5);};if(jy){this['executeFunctionWhenChange'](jv,0x0,jC);}var jE=ju['get']('class');var jF=jE=='Video'||jE=='Video360';jv['set']('selectedIndex',0x0);if(jF){this['bind']('resize',jD,this);jD();jv['get']('items')[0x0]['get']('player')['play']();}else{jt['set']('width',jw);jt['set']('height',jx);}this['MainViewer']['set']('toolTipEnabled',![]);if(jz){this['pauseGlobalAudios']();}var jG=this['pauseCurrentPlayers'](!jz);jt['bind']('close',jB,this);jt['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(jZ,k0,k1,k2,k3,k4,k5,k6,k7,k8,k9,ka){var kb=this;var kc=![];var kd=function(){ks['unbind']('loaded',kg,kb);ki();};var ke=function(){ks['unbind']('click',ke,this);if(kw!=undefined){clearTimeout(kw);}};var kf=function(){setTimeout(km,0x0);};var kg=function(){kb['unbind']('click',kd,kb);kr['set']('visible',!![]);km();kt['set']('visible',!![]);ks['unbind']('loaded',kg,this);ks['bind']('userInteractionStart',kn,this);ks['bind']('userInteractionEnd',ko,this);ks['bind']('resize',kf,this);kw=setTimeout(kh,0xc8);};var kh=function(){kw=undefined;if(k6){var ky=function(){ki();};ks['bind']('click',ke,this);kw=setTimeout(ky,k6);}ks['bind']('backgroundClick',ki,this);if(k0){ks['bind']('click',kk,this);ks['set']('imageCursor','hand');}kt['bind']('click',ki,this);if(k9)k9();};var ki=function(){kb['MainViewer']['set']('toolTipEnabled',!![]);kc=!![];if(kw)clearTimeout(kw);if(kx)clearTimeout(kx);if(k6)ke();if(ka)ka();ks['set']('visible',![]);if(k4&&k4['get']('duration')>0x0){k4['bind']('end',kj,this);}else{ks['set']('image',null);}kt['set']('visible',![]);kr['set']('visible',![]);kb['unbind']('click',kd,kb);ks['unbind']('backgroundClick',ki,this);ks['unbind']('userInteractionStart',kn,this);ks['unbind']('userInteractionEnd',ko,this,!![]);ks['unbind']('resize',kf,this);if(k0){ks['unbind']('click',kk,this);ks['set']('cursor','default');}kt['unbind']('click',ki,this);kb['resumePlayers'](kv,k7==null||k8);if(k7){if(k8){kb['resumeGlobalAudios']();}kb['stopGlobalAudio'](k7);}};var kj=function(){ks['set']('image',null);k4['unbind']('end',kj,this);};var kk=function(){ks['set']('image',kl()?jZ:k0);};var kl=function(){return ks['get']('image')==k0;};var km=function(){var kz=ks['get']('actualWidth')-ks['get']('imageLeft')-ks['get']('imageWidth')+0xa;var kA=ks['get']('imageTop')+0xa;if(kz<0xa)kz=0xa;if(kA<0xa)kA=0xa;kt['set']('right',kz);kt['set']('top',kA);};var kn=function(){if(kx){clearTimeout(kx);kx=undefined;}else{kt['set']('visible',![]);}};var ko=function(){if(!kc){kx=setTimeout(kp,0x12c);}};var kp=function(){kx=undefined;kt['set']('visible',!![]);km();};var kq=function(kB){var kC=kB['get']('data');if(kC&&'extraLevels'in kC){var kD=kb['rootPlayer']['createInstance'](kB['get']('class'));var kE=kC['extraLevels'];kD['set']('levels',kB['get']('levels')['concat'](kE));kB=kD;}return kB;};this['MainViewer']['set']('toolTipEnabled',![]);var kr=this['veilPopupPanorama'];var ks=this['zoomImagePopupPanorama'];var kt=this['closeButtonPopupPanorama'];if(k5){for(var ku in k5){kt['set'](ku,k5[ku]);}}var kv=this['pauseCurrentPlayers'](k7==null||!k8);if(k7){if(k8){this['pauseGlobalAudios']();}this['playGlobalAudio'](k7);}var kw=undefined;var kx=undefined;jZ=kq(jZ);if(k0)k0=kq(k0);ks['bind']('loaded',kg,this);setTimeout(function(){kb['bind']('click',kd,kb,![]);},0x0);ks['set']('image',jZ);ks['set']('customWidth',k1);ks['set']('customHeight',k2);ks['set']('showEffect',k3);ks['set']('hideEffect',k4);ks['set']('visible',!![]);return ks;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(kF,kG,kH,kI,kJ,kK,kL){var kM=this;this['MainViewer']['set']('toolTipEnabled',![]);var kN=this['isCardboardViewMode']();if(!kN){var kO=this['zoomImagePopupPanorama'];var kP=kF['get']('showDuration');var kQ=kF['get']('hideDuration');var kS=this['pauseCurrentPlayers'](kK==null||!kL);var kT=kF['get']('popupMaxWidth');var kU=kF['get']('popupMaxHeight');var kV=function(){var kY=function(){if(!kM['isCardboardViewMode']())kF['set']('visible',![]);};kF['unbind']('showEnd',kV,kM);kF['set']('showDuration',0x1);kF['set']('hideDuration',0x1);kM['showPopupImage'](kH,kI,kF['get']('popupMaxWidth'),kF['get']('popupMaxHeight'),null,null,kG,kJ,kK,kL,kY,kW);};var kW=function(){var kZ=function(){kF['unbind']('showEnd',kZ,kM);kF['set']('visible',![]);kF['set']('showDuration',kP);kF['set']('popupMaxWidth',kT);kF['set']('popupMaxHeight',kU);};kM['resumePlayers'](kS,kK==null||!kL);var l0=kO['get']('imageWidth');var l1=kO['get']('imageHeight');kF['bind']('showEnd',kZ,kM,!![]);kF['set']('showDuration',0x1);kF['set']('hideDuration',kQ);kF['set']('popupMaxWidth',l0);kF['set']('popupMaxHeight',l1);if(kF['get']('visible'))kZ();else kF['set']('visible',!![]);kM['MainViewer']['set']('toolTipEnabled',!![]);};kF['bind']('showEnd',kV,this,!![]);}else{var kX=function(){kM['resumePlayers'](kS,kK==null||kL);if(kK){if(kL){kM['resumeGlobalAudios']();}kM['stopGlobalAudio'](kK);}kF['unbind']('hideEnd',kX,kM);kM['MainViewer']['set']('toolTipEnabled',!![]);};var kS=this['pauseCurrentPlayers'](kK==null||!kL);if(kK){if(kL){this['pauseGlobalAudios']();}this['playGlobalAudio'](kK);}kF['bind']('hideEnd',kX,this,!![]);}kF['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(l2,l3,l4){var l5=this;var l6=function(){l2['unbind']('showEnd',l6);la['bind']('click',l8,this);l9();la['set']('visible',!![]);};var l7=function(){if(!l2['get']('loop'))l8();};var l8=function(){l5['MainViewer']['set']('toolTipEnabled',!![]);l2['set']('visible',![]);la['set']('visible',![]);la['unbind']('click',l8,l5);l2['unbind']('end',l7,l5);l2['unbind']('hideEnd',l8,l5,!![]);l5['resumePlayers'](lc,!![]);if(l4){l5['resumeGlobalAudios']();}};var l9=function(){var ld=0xa;var le=0xa;la['set']('right',ld);la['set']('top',le);};this['MainViewer']['set']('toolTipEnabled',![]);var la=this['closeButtonPopupPanorama'];if(l3){for(var lb in l3){la['set'](lb,l3[lb]);}}var lc=this['pauseCurrentPlayers'](!![]);if(l4){this['pauseGlobalAudios']();}l2['bind']('end',l7,this,!![]);l2['bind']('showEnd',l6,this,!![]);l2['bind']('hideEnd',l8,this,!![]);l2['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(lf,lg,lh){if(lf['get']('visible')==!![]){return;}var li=function(){lj();this['resumePlayers'](lm,!lh);lf['unbind']('close',li,this);};var lj=function(){lf['unbind']('click',lj,this);if(lk!=undefined){clearTimeout(lk);}};var lk=undefined;if(lg){var ll=function(){lf['hide']();};lf['bind']('click',lj,this);lk=setTimeout(ll,lg);}var lm=this['pauseCurrentPlayers'](!lh);lf['bind']('close',li,this);lf['show'](this,!![]);};TDV['Tour']['Script']['startPanoramaWithCamera']=function(ln,lo){if(window['currentPanoramasWithCameraChanged']!=undefined&&window['currentPanoramasWithCameraChanged']['indexOf'](ln)!=-0x1){return;}var lp=this['getByClassName']('PlayList');if(lp['length']==0x0)return;var lq=[];for(var ls=0x0,lt=lp['length'];ls<lt;++ls){var lu=lp[ls];var lv=lu['get']('items');for(var lw=0x0,lx=lv['length'];lw<lx;++lw){var ly=lv[lw];if(ly['get']('media')==ln&&(ly['get']('class')=='PanoramaPlayListItem'||ly['get']('class')=='Video360PlayListItem')){lq['push']({'camera':ly['get']('camera'),'item':ly});ly['set']('camera',lo);}}}if(lq['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']=[ln];}else{window['currentPanoramasWithCameraChanged']['push'](ln);}var lz=function(){var lA=window['currentPanoramasWithCameraChanged']['indexOf'](ln);if(lA!=-0x1){window['currentPanoramasWithCameraChanged']['splice'](lA,0x1);}for(var lB=0x0;lB<lq['length'];lB++){lq[lB]['item']['set']('camera',lq[lB]['camera']);lq[lB]['item']['unbind']('stop',lz,this);}};for(var ls=0x0;ls<lq['length'];ls++){lq[ls]['item']['bind']('stop',lz,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(lC,lD){var lE=lC['get']('initialSequence');lE['pause']();var lF=function(){lE['play']();};setTimeout(lF,lD);};TDV['Tour']['Script']['syncPlaylists']=function(lG){var lH=function(lP,lQ){for(var lR=0x0,lS=lG['length'];lR<lS;++lR){var lT=lG[lR];if(lT!=lQ){var lU=lT['get']('items');for(var lV=0x0,lW=lU['length'];lV<lW;++lV){if(lU[lV]['get']('media')==lP){if(lT['get']('selectedIndex')!=lV){lT['set']('selectedIndex',lV);}break;}}}}};var lI=function(lX){var lY=lX['source'];var lZ=lY['get']('selectedIndex');if(lZ<0x0)return;var m0=lY['get']('items')[lZ]['get']('media');lH(m0,lY);};var lJ=function(m1){var m2=m1['source']['get']('panoramaMapLocation');if(m2){var m3=m2['get']('map');lH(m3);}};for(var lL=0x0,lN=lG['length'];lL<lN;++lL){lG[lL]['bind']('change',lI,this);}var lO=this['getByClassName']('MapPlayer');for(var lL=0x0,lN=lO['length'];lL<lN;++lL){lO[lL]['bind']('panoramaMapLocation_change',lJ,this);}};TDV['Tour']['Script']['translate']=function(m4){return this['get']('data')['localeManager']['trans'](m4);};TDV['Tour']['Script']['triggerOverlay']=function(m5,m6){if(m5['get']('areas')!=undefined){var m7=m5['get']('areas');for(var m8=0x0;m8<m7['length'];++m8){m7[m8]['trigger'](m6);}}else{m5['trigger'](m6);}};TDV['Tour']['Script']['updateDeepLink']=function(){var m9=this['mainPlayList']['get']('selectedIndex');if(m9>=0x0){location['hash']='#media='+(m9+0x1);}else{var ma=this['getActiveMediaWithViewer'](this['MainViewer']);if(ma!=undefined){var mb=ma['get']('data');if(mb){location['hash']='#media-name='+mb['label'];}}}};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(mc,md,me){var mf=function(){var mh=mc['get']('selectedIndex');if(mh>=0x0){var mi=function(){ml['unbind']('begin',mi);mj(mh);};var mj=function(mm){var mn=ml['get']('media');var mo=mn['get']('data');var mp=mo!==undefined?mo['description']||mn['get']('label'):mn['get']('label');mk(mp);};var mk=function(mq){if(mq!==undefined){md['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+mq+'</SPAN></div>');}else{md['set']('html','');}};var ml=mc['get']('items')[mh];if(md['get']('html')){mk('Loading...');ml['bind']('begin',mi);}else{mj(mh);}}};var mg=function(){md['set']('html',undefined);mc['unbind']('change',mf,this);me['unbind']('stop',mg,this);};if(me){me['bind']('stop',mg,this);}mc['bind']('change',mf,this);mf();};TDV['Tour']['Script']['updateVideoCues']=function(mr,ms){var mt=mr['get']('items')[ms];var mu=mt['get']('media');if(mu['get']('cues')['length']==0x0)return;var mv=mt['get']('player');var mw=[];var mx=function(){if(mr['get']('selectedIndex')!=ms){mu['unbind']('cueChange',my,this);mr['unbind']('change',mx,this);}};var my=function(mz){var mA=mz['data']['activeCues'];for(var mB=0x0,mC=mw['length'];mB<mC;++mB){var mD=mw[mB];if(mA['indexOf'](mD)==-0x1&&(mD['get']('startTime')>mv['get']('currentTime')||mD['get']('endTime')<mv['get']('currentTime')+0.5)){mD['trigger']('end');}}mw=mA;};mu['bind']('cueChange',my,this);mr['bind']('change',mx,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(mE,mF){var mG=this['get'](mF);for(var mH in mE){mE[mH]['set']('visible',mG);}};TDV['Tour']['Script']['quizStart']=function(){var mI=this['get']('data')['quiz'];return mI?mI['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var mJ=this['get']('data')['quiz'];return mJ?mJ['finish']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(mK){var mL=this['get']('data')['quiz'];if(mL)mL['setItemFound'](mK);};TDV['Tour']['Script']['quizShowQuestion']=function(mM){var mN=this['get']('data');var mO=mN['quiz'];var mP;if(mO){var mQ=this['pauseCurrentPlayers'](!![]);var mR=this[mM];var mS;if(!mR['media']){mS=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){mS={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}mP=mO['showQuestion'](mM,mS);mP['then'](function(mT){this['resumePlayers'](mQ,!![]);}['bind'](this));}return mP;};TDV['Tour']['Script']['quizShowScore']=function(mU){var mV=this['get']('data');var mW=mV['quiz'];if(mW){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){mU=mU||{};mU=this['mixObject'](mU,mV['scorePortraitConfig']);}return mW['showScore'](mU);}};TDV['Tour']['Script']['quizShowTimeout']=function(mX,mY){var mZ=this['get']('data');var n0=mZ['quiz'];if(n0){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){mY=mY||{};mY=this['mixObject'](mY,mZ['scorePortraitConfig']);}n0['showTimeout'](mX,mY);}};TDV['Tour']['Script']['getKey']=function(n1){return window[n1];};TDV['Tour']['Script']['registerKey']=function(n2,n3){window[n2]=n3;};TDV['Tour']['Script']['unregisterKey']=function(n4){delete window[n4];};TDV['Tour']['Script']['existsKey']=function(n5){return n5 in window;};
//# sourceMappingURL=http://localhost:9000/script_v2020.2.9.js.map
//Generated with v2020.2.9, Mon Jun 15 2020